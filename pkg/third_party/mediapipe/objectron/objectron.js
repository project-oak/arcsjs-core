(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var v;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var y=ca(this);function z(a,b){if(b)a:{var c=y;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
z("Symbol",function(a){function b(g){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(g||"")+"_"+e++,g)}function c(g,f){this.g=g;ba(this,"description",{configurable:!0,writable:!0,value:f})}if(a)return a;c.prototype.toString=function(){return this.g};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
z("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=y[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return da(aa(this))}})}return a});function da(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function A(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ea(a){if(!(a instanceof Array)){a=A(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var fa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ha;
if("function"==typeof Object.setPrototypeOf)ha=Object.setPrototypeOf;else{var ia;a:{var ja={a:!0},ka={};try{ka.__proto__=ja;ia=ka.a;break a}catch(a){}ia=!1}ha=ia?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var la=ha;
function C(a,b){a.prototype=fa(b.prototype);a.prototype.constructor=a;if(la)la(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.ka=b.prototype}function ma(){this.l=!1;this.i=null;this.h=void 0;this.g=1;this.s=this.m=0;this.j=null}function na(a){if(a.l)throw new TypeError("Generator is already running");a.l=!0}ma.prototype.o=function(a){this.h=a};
function oa(a,b){a.j={V:b,X:!0};a.g=a.m||a.s}ma.prototype.return=function(a){this.j={return:a};this.g=this.s};function E(a,b,c){a.g=c;return{value:b}}function pa(a){this.g=new ma;this.h=a}function qa(a,b){na(a.g);var c=a.g.i;if(c)return ra(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.g.return);a.g.return(b);return F(a)}
function ra(a,b,c,d){try{var e=b.call(a.g.i,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.g.l=!1,e;var g=e.value}catch(f){return a.g.i=null,oa(a.g,f),F(a)}a.g.i=null;d.call(a.g,g);return F(a)}function F(a){for(;a.g.g;)try{var b=a.h(a.g);if(b)return a.g.l=!1,{value:b.value,done:!1}}catch(c){a.g.h=void 0,oa(a.g,c)}a.g.l=!1;if(a.g.j){b=a.g.j;a.g.j=null;if(b.X)throw b.V;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function sa(a){this.next=function(b){na(a.g);a.g.i?b=ra(a,a.g.i.next,b,a.g.o):(a.g.o(b),b=F(a));return b};this.throw=function(b){na(a.g);a.g.i?b=ra(a,a.g.i["throw"],b,a.g.o):(oa(a.g,b),b=F(a));return b};this.return=function(b){return qa(a,b)};this[Symbol.iterator]=function(){return this}}function ta(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function g(f){f.done?d(f.value):Promise.resolve(f.value).then(b,c).then(g,e)}g(a.next())})}
function H(a){return ta(new sa(new pa(a)))}
z("Promise",function(a){function b(f){this.h=0;this.i=void 0;this.g=[];this.o=!1;var k=this.j();try{f(k.resolve,k.reject)}catch(h){k.reject(h)}}function c(){this.g=null}function d(f){return f instanceof b?f:new b(function(k){k(f)})}if(a)return a;c.prototype.h=function(f){if(null==this.g){this.g=[];var k=this;this.i(function(){k.l()})}this.g.push(f)};var e=y.setTimeout;c.prototype.i=function(f){e(f,0)};c.prototype.l=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var k=0;k<f.length;++k){var h=
f[k];f[k]=null;try{h()}catch(l){this.j(l)}}}this.g=null};c.prototype.j=function(f){this.i(function(){throw f;})};b.prototype.j=function(){function f(l){return function(p){h||(h=!0,l.call(k,p))}}var k=this,h=!1;return{resolve:f(this.D),reject:f(this.l)}};b.prototype.D=function(f){if(f===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof b)this.G(f);else{a:switch(typeof f){case "object":var k=null!=f;break a;case "function":k=!0;break a;default:k=!1}k?this.A(f):this.m(f)}};
b.prototype.A=function(f){var k=void 0;try{k=f.then}catch(h){this.l(h);return}"function"==typeof k?this.H(k,f):this.m(f)};b.prototype.l=function(f){this.s(2,f)};b.prototype.m=function(f){this.s(1,f)};b.prototype.s=function(f,k){if(0!=this.h)throw Error("Cannot settle("+f+", "+k+"): Promise already settled in state"+this.h);this.h=f;this.i=k;2===this.h&&this.F();this.B()};b.prototype.F=function(){var f=this;e(function(){if(f.C()){var k=y.console;"undefined"!==typeof k&&k.error(f.i)}},1)};b.prototype.C=
function(){if(this.o)return!1;var f=y.CustomEvent,k=y.Event,h=y.dispatchEvent;if("undefined"===typeof h)return!0;"function"===typeof f?f=new f("unhandledrejection",{cancelable:!0}):"function"===typeof k?f=new k("unhandledrejection",{cancelable:!0}):(f=y.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.i;return h(f)};b.prototype.B=function(){if(null!=this.g){for(var f=0;f<this.g.length;++f)g.h(this.g[f]);this.g=null}};var g=new c;b.prototype.G=
function(f){var k=this.j();f.K(k.resolve,k.reject)};b.prototype.H=function(f,k){var h=this.j();try{f.call(k,h.resolve,h.reject)}catch(l){h.reject(l)}};b.prototype.then=function(f,k){function h(q,m){return"function"==typeof q?function(n){try{l(q(n))}catch(r){p(r)}}:m}var l,p,t=new b(function(q,m){l=q;p=m});this.K(h(f,l),h(k,p));return t};b.prototype.catch=function(f){return this.then(void 0,f)};b.prototype.K=function(f,k){function h(){switch(l.h){case 1:f(l.i);break;case 2:k(l.i);break;default:throw Error("Unexpected state: "+
l.h);}}var l=this;null==this.g?g.h(h):this.g.push(h);this.o=!0};b.resolve=d;b.reject=function(f){return new b(function(k,h){h(f)})};b.race=function(f){return new b(function(k,h){for(var l=A(f),p=l.next();!p.done;p=l.next())d(p.value).K(k,h)})};b.all=function(f){var k=A(f),h=k.next();return h.done?d([]):new b(function(l,p){function t(n){return function(r){q[n]=r;m--;0==m&&l(q)}}var q=[],m=0;do q.push(void 0),m++,d(h.value).K(t(q.length-1),p),h=k.next();while(!h.done)})};return b});
function ua(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var g=c++;return{value:b(g,a[g]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}var va="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a};z("Object.assign",function(a){return a||va});
z("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});z("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var g=d[c];if(g===b||Object.is(g,b))return!0}return!1}});
z("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(b,c||0)}});z("Array.prototype.keys",function(a){return a?a:function(){return ua(this,function(b){return b})}});var wa=this||self;
function I(a,b){a=a.split(".");var c=wa;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};function J(a){throw a;throw Error("invalid error level: 2");}function xa(a,b){J(Error("Invalid wire type: "+a+" (at position "+b+")"))}function ya(){J(Error("Failed to read varint, encoding is invalid."))};function za(a,b){b=String.fromCharCode.apply(null,b);return null==a?b:a+b}var Aa,Ba="undefined"!==typeof TextDecoder,Ca,Da="undefined"!==typeof TextEncoder;
function Ea(a){if(Da)a=(Ca||(Ca=new TextEncoder)).encode(a);else{var b=void 0;b=void 0===b?!1:b;for(var c=0,d=new Uint8Array(3*a.length),e=0;e<a.length;e++){var g=a.charCodeAt(e);if(128>g)d[c++]=g;else{if(2048>g)d[c++]=g>>6|192;else{if(55296<=g&&57343>=g){if(56319>=g&&e<a.length){var f=a.charCodeAt(++e);if(56320<=f&&57343>=f){g=1024*(g-55296)+f-56320+65536;d[c++]=g>>18|240;d[c++]=g>>12&63|128;d[c++]=g>>6&63|128;d[c++]=g&63|128;continue}else e--}if(b)throw Error("Found an unpaired surrogate");g=65533}d[c++]=
g>>12|224;d[c++]=g>>6&63|128}d[c++]=g&63|128}}a=d.subarray(0,c)}return a};var Fa={},Ga=null;function Ha(a){var b;void 0===b&&(b=0);Ia();b=Fa[b];for(var c=Array(Math.floor(a.length/3)),d=b[64]||"",e=0,g=0;e<a.length-2;e+=3){var f=a[e],k=a[e+1],h=a[e+2],l=b[f>>2];f=b[(f&3)<<4|k>>4];k=b[(k&15)<<2|h>>6];h=b[h&63];c[g++]=l+f+k+h}l=0;h=d;switch(a.length-e){case 2:l=a[e+1],h=b[(l&15)<<2]||d;case 1:a=a[e],c[g]=b[a>>2]+b[(a&3)<<4|l>>4]+h+d}return c.join("")}
function Ja(a){var b=a.length,c=3*b/4;c%3?c=Math.floor(c):-1!="=.".indexOf(a[b-1])&&(c=-1!="=.".indexOf(a[b-2])?c-2:c-1);var d=new Uint8Array(c),e=0;Ka(a,function(g){d[e++]=g});return d.subarray(0,e)}
function Ka(a,b){function c(h){for(;d<a.length;){var l=a.charAt(d++),p=Ga[l];if(null!=p)return p;if(!/^[\s\xa0]*$/.test(l))throw Error("Unknown base64 encoding at char: "+l);}return h}Ia();for(var d=0;;){var e=c(-1),g=c(0),f=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|g>>4);64!=f&&(b(g<<4&240|f>>2),64!=k&&b(f<<6&192|k))}}
function Ia(){if(!Ga){Ga={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++){var d=a.concat(b[c].split(""));Fa[c]=d;for(var e=0;e<d.length;e++){var g=d[e];void 0===Ga[g]&&(Ga[g]=e)}}}};var La="function"===typeof Uint8Array,Ma;function Na(a){this.g=a;if(null!==a&&0===a.length)throw Error("ByteString should be constructed with non-empty values");};var Oa="function"===typeof Uint8Array.prototype.slice;function Pa(a,b,c){return b===c?Ma||(Ma=new Uint8Array(0)):Oa?a.slice(b,c):new Uint8Array(a.subarray(b,c))}var K=0,M=0;
function Qa(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return Ja(a);if(a.constructor===Na){if(null==a.g)var b=Ma||(Ma=new Uint8Array(0));else{b=Uint8Array;var c=a.g;c=null==c||La&&null!=c&&c instanceof Uint8Array?c:"string"===typeof c?Ja(c):null;a=a.g=c;b=new b(a)}return b}if(a instanceof Uint8Array)return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers");
};function Ra(a,b){b=void 0===b?{}:b;b=void 0===b.v?!1:b.v;this.h=null;this.g=this.i=this.l=0;this.j=!1;this.v=b;a&&Sa(this,a)}function Sa(a,b){a.h=Qa(b);a.l=0;a.i=a.h.length;a.g=a.l}Ra.prototype.reset=function(){this.g=this.l};
function Ta(a){for(var b=128,c=0,d=0,e=0;4>e&&128<=b;e++)b=a.h[a.g++],c|=(b&127)<<7*e;128<=b&&(b=a.h[a.g++],c|=(b&127)<<28,d|=(b&127)>>4);if(128<=b)for(e=0;5>e&&128<=b;e++)b=a.h[a.g++],d|=(b&127)<<7*e+3;if(128>b){a=c>>>0;b=d>>>0;if(d=b&2147483648)a=~a+1>>>0,b=~b>>>0,0==a&&(b=b+1>>>0);a=4294967296*b+(a>>>0);return d?-a:a}a.j=!0;ya()}function N(a){a.g>a.i&&(a.j=!0,J(Error("Tried to read past the end of the data "+a.g+" > "+a.i)))}
function O(a){var b=a.h,c=b[a.g],d=c&127;if(128>c)return a.g+=1,N(a),d;c=b[a.g+1];d|=(c&127)<<7;if(128>c)return a.g+=2,N(a),d;c=b[a.g+2];d|=(c&127)<<14;if(128>c)return a.g+=3,N(a),d;c=b[a.g+3];d|=(c&127)<<21;if(128>c)return a.g+=4,N(a),d;c=b[a.g+4];d|=(c&15)<<28;if(128>c)return a.g+=5,N(a),d>>>0;a.g+=5;if(128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++])return a.j=!0,ya(),d;N(a);return d}
function Ua(a){var b=a.h[a.g],c=a.h[a.g+1],d=a.h[a.g+2],e=a.h[a.g+3];a.g+=4;N(a);return(b<<0|c<<8|d<<16|e<<24)>>>0}Ra.prototype.m=function(){var a=Ua(this),b=2*(a>>31)+1,c=a>>>23&255;a&=8388607;return 255==c?a?NaN:Infinity*b:0==c?b*Math.pow(2,-149)*a:b*Math.pow(2,c-150)*(a+Math.pow(2,23))};var Va=[];function Wa(){this.g=new Uint8Array(64);this.h=0}function P(a,b){if(!(a.h+1<a.g.length)){var c=a.g;a.g=new Uint8Array(Math.ceil(1+2*a.g.length));a.g.set(c)}a.g[a.h++]=b}Wa.prototype.length=function(){return this.h};Wa.prototype.end=function(){var a=this.g,b=this.h;this.h=0;return Pa(a,0,b)};function Q(a,b){for(;127<b;)P(a,b&127|128),b>>>=7;P(a,b)};function Xa(a){var b={},c=void 0===b.O?!1:b.O;this.m={v:void 0===b.v?!1:b.v};this.O=c;b=this.m;Va.length?(c=Va.pop(),b&&(c.v=b.v),a&&Sa(c,a),a=c):a=new Ra(a,b);this.g=a;this.l=this.g.g;this.h=this.i=-1;this.j=!1}Xa.prototype.reset=function(){this.g.reset();this.h=this.i=-1};function Ya(a){var b=a.g;(b=b.g==b.i)||(b=a.j)||(b=a.g,b=b.j||0>b.g||b.g>b.i);if(b)return!1;a.l=a.g.g;var c=O(a.g);b=c>>>3;c&=7;if(!(0<=c&&5>=c))return a.j=!0,xa(c,a.l),!1;a.i=b;a.h=c;return!0}
function Za(a){switch(a.h){case 0:if(0!=a.h)Za(a);else a:{a=a.g;for(var b=a.g,c=0;10>c;c++){if(0===(a.h[b]&128)){a.g=b+1;N(a);break a}b++}a.j=!0;ya()}break;case 1:a=a.g;a.g+=8;N(a);break;case 2:2!=a.h?Za(a):(b=O(a.g),a=a.g,a.g+=b,N(a));break;case 5:a=a.g;a.g+=4;N(a);break;case 3:b=a.i;do{if(!Ya(a)){a.j=!0;J(Error("Unmatched start-group tag: stream EOF"));break}if(4==a.h){a.i!=b&&(a.j=!0,J(Error("Unmatched end-group tag")));break}Za(a)}while(1);break;default:a.j=!0,xa(a.h,a.l)}}
function $a(a,b,c){var d=a.g.i,e=O(a.g),g=a.g.g+e;a.g.i=g;c(b,a);c=g-a.g.g;if(0!==c)throw Error("Message parsing ended unexpectedly. Expected to read "+(e+" bytes, instead read "+(e-c)+" bytes, either the data ended unexpectedly or the message misreported its own length"));a.g.g=g;a.g.i=d;return b}var ab=[];function bb(){this.h=[];this.i=0;this.g=new Wa}function cb(a,b){0!==b.length&&(a.h.push(b),a.i+=b.length)}function db(a,b,c){Q(a.g,8*b+2);Q(a.g,c.length);cb(a,a.g.end());cb(a,c)};var eb="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol(void 0):void 0;function fb(a){Object.isFrozen(a)||(eb?a[eb]|=1:void 0!==a.g?a.g|=1:Object.defineProperties(a,{g:{value:1,configurable:!0,writable:!0,enumerable:!1}}));return a};function gb(a){return null!==a&&"object"===typeof a&&a.constructor===Object};function hb(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "object":if(La&&null!=a&&a instanceof Uint8Array)return Ha(a);if(a instanceof Na){if(null==a.g)a="";else{var b=a.g;b=null==b||"string"===typeof b?b:La&&b instanceof Uint8Array?Ha(b):null;a=a.g=b}return a}}return a};function ib(a,b){if(null!=a)return Array.isArray(a)||gb(a)?jb(a,b):b(a)}function jb(a,b){if(Array.isArray(a)){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]=ib(a[d],b);if(b=Array.isArray(a)){var e;eb?e=a[eb]:e=a.g;b=(null==e?0:e)&1}b&&fb(c);return c}e={};for(c in a)e[c]=ib(a[c],b);return e}function kb(a){a=hb(a);return Array.isArray(a)?jb(a,kb):a};var lb;function R(a,b,c){var d=lb;lb=null;a||(a=d);d=this.constructor.ha;a||(a=d?[d]:[]);this.i=(d?0:-1)-(this.constructor.fa||0);this.l=this.g=null;this.u=a;a:{d=this.u.length;a=d-1;if(d&&(d=this.u[a],gb(d))){this.j=a-this.i;this.h=d;break a}void 0!==b&&-1<b?(this.j=Math.max(b,a+1-this.i),this.h=null):this.j=Number.MAX_VALUE}if(c)for(b=0;b<c.length;b++)a=c[b],a<this.j?(a+=this.i,(d=this.u[a])?Array.isArray(d)&&fb(d):this.u[a]=mb):(nb(this),(d=this.h[a])?Array.isArray(d)&&fb(d):this.h[a]=mb)}var mb=Object.freeze(fb([]));
function nb(a){var b=a.j+a.i;a.u[b]||(a.h=a.u[b]={})}function S(a,b,c){return-1===b?null:(void 0===c?0:c)||b>=a.j?a.h?a.h[b]:void 0:a.u[b+a.i]}function ob(a,b,c){c=void 0===c?!1:c;var d=S(a,b,c);null==d&&(d=mb);d===mb&&(d=fb(d.slice()),T(a,b,d,c));return d}function pb(a,b){var c=ob(a,b);a.l||(a.l={});if(!a.l[b]){for(var d=0;d<c.length;d++)c[d]=+c[d];a.l[b]=!0}return c}function V(a,b,c){a=S(a,b);a=null==a?a:+a;return null==a?void 0===c?0:c:a}
function T(a,b,c,d){(void 0===d?0:d)||b>=a.j?(nb(a),a.h[b]=c):a.u[b+a.i]=c}function qb(a,b,c,d){c!==d?T(a,b,c):T(a,b,void 0,!1)}function rb(a,b,c){if(-1===c)return null;a.g||(a.g={});var d=a.g[c];if(d)return d;var e=S(a,c,!1);if(null==e)return d;b=new b(e);return a.g[c]=b}function sb(a,b,c){a.g||(a.g={});var d=a.g[c];if(!d){var e=ob(a,c,!1);d=[];for(var g=0;g<e.length;g++)d[g]=new b(e[g]);a.g[c]=d}return d}
function tb(a,b,c,d,e){var g=sb(a,d,b);c=c?c:new d;a=ob(a,b);void 0!=e?(g.splice(e,0,c),a.splice(e,0,c.u)):(g.push(c),a.push(c.u))}R.prototype.toJSON=function(){return jb(this.u,kb)};R.prototype.toString=function(){return this.u.toString()};function ub(a,b){a=S(a,b);return null==a?0:a}function vb(a,b){a=S(a,b);return null==a?"":a};function wb(a,b){if(a=a.m){cb(b,b.g.end());for(var c=0;c<a.length;c++)cb(b,a[c])}}var xb=Symbol();function yb(a,b,c){return a[xb]||(a[xb]=function(d,e){return b(d,e,c)})}function zb(a){var b=a[xb];if(!b){var c=a[Ab]||(a[Ab]=a());b=function(d,e){return Bb(d,e,c)};a[xb]=b}return b}function Cb(a){var b=a.da;if(b)return zb(b);if(b=a.ia){var c=a.Y;delete a.Y;return yb(a.W.g,b,c)}}function Db(a){var b=Cb(a),c=a.W,d=a.ea;return b?function(e,g){return d(e,g,c,b)}:function(e,g){return d(e,g,c)}}
function Eb(a){var b=a[0];switch(a.length){case 2:var c=a[1];return function(m,n,r){return b(m,n,r,c)};case 3:var d=a[1],e=zb(a[2]);return function(m,n,r){return b(m,n,r,d,e)};case 4:var g=a[1],f=a[3],k=zb(a[2]);return function(m,n,r){return b(m,n,r,g,k,f)};case 5:var h=a[1],l=yb(h,a[3],a[4]);return function(m,n,r){return b(m,n,r,h,l)};case 6:var p=a[1],t=a[5],q=yb(p,a[3],a[4]);return function(m,n,r){return b(m,n,r,p,q,t)};default:throw Error("Unsupported number of parameters, expected [2-6], got "+
a.length);}}var Ab=Symbol();function Bb(a,b,c){for(;Ya(b)&&4!=b.h;){var d=b.i,e=c[d];if(e)Array.isArray(e)&&(e=c[d]=Eb(e));else{var g=c[0];g&&(g=g[d])&&(e=c[d]=Db(g))}e&&e(b,a,d)||(e=b,d=a,g=e.l,Za(e),e.O||(e=Pa(e.g.h,g,e.g.g),(g=d.m)?g.push(e):d.m=[e]))}return a}
function Fb(a,b){var c=new bb;b(a,c);a=c.i+c.g.length();if(0===a)c=new Uint8Array(0);else{a=new Uint8Array(a);for(var d=c.h,e=d.length,g=b=0;g<e;g++){var f=d[g];0!==f.length&&(a.set(f,b),b+=f.length)}d=c.g;e=d.h;0!==e&&(a.set(d.g.subarray(0,e),b),d.h=0);c.h=[a];c=a}return c}
function Gb(a,b,c){if(ab.length){var d=ab.pop();a&&(Sa(d.g,a),d.i=-1,d.h=-1);a=d}else a=new Xa(a);try{var e=new b;return Bb(e,a,c[Ab]||(c[Ab]=c()))}finally{b=a.g,b.h=null,b.l=0,b.i=0,b.g=0,b.j=!1,b.v=!1,a.i=-1,a.h=-1,a.j=!1,100>ab.length&&ab.push(a)}}
function W(a,b,c){b=S(b,c);if(null!=b){Q(a.g,8*c+5);a=a.g;var d=b;d=(c=0>d?1:0)?-d:d;0===d?0<1/d?K=M=0:(M=0,K=2147483648):isNaN(d)?(M=0,K=2147483647):3.4028234663852886E38<d?(M=0,K=(c<<31|2139095040)>>>0):1.1754943508222875E-38>d?(d=Math.round(d/Math.pow(2,-149)),M=0,K=(c<<31|d)>>>0):(b=Math.floor(Math.log(d)/Math.LN2),d*=Math.pow(2,-b),d=Math.round(8388608*d),16777216<=d&&++b,M=0,K=(c<<31|b+127<<23|d&8388607)>>>0);c=K;P(a,c>>>0&255);P(a,c>>>8&255);P(a,c>>>16&255);P(a,c>>>24&255)}}
function Hb(a,b,c){if(1!==a.h)return!1;var d=a.g;a=Ua(d);var e=Ua(d);d=2*(e>>31)+1;var g=e>>>20&2047;a=4294967296*(e&1048575)+a;qb(b,c,2047==g?a?NaN:Infinity*d:0==g?d*Math.pow(2,-1074)*a:d*Math.pow(2,g-1075)*(a+4503599627370496),0);return!0}function X(a,b,c){if(5!==a.h)return!1;T(b,c,a.g.m());return!0}function Y(a,b,c){if(5!==a.h&&2!==a.h)return!1;b=ob(b,c);if(2==a.h){c=Ra.prototype.m;var d=O(a.g);for(d=a.g.g+d;a.g.g<d;)b.push(c.call(a.g))}else b.push(a.g.m());return!0}
function Z(a,b,c){if(5!==a.h)return!1;a=a.g.m();qb(b,c,a,0);return!0}function Ib(a,b,c){if(0!==a.h)return!1;T(b,c,Ta(a.g));return!0}function Jb(a,b,c){if(0!==a.h)return!1;T(b,c,O(a.g));return!0}function Kb(a,b,c){if(0!==a.h)return!1;a=O(a.g);qb(b,c,a,0);return!0}function Lb(a,b,c){if(0!==a.h)return!1;a=!!O(a.g);qb(b,c,a,!1);return!0}
function Mb(a,b,c){if(2!==a.h)return!1;var d=O(a.g);a=a.g;var e=a.g;a.g+=d;N(a);a=a.h;var g;if(Ba)(g=Aa)||(g=Aa=new TextDecoder("utf-8",{fatal:!1})),g=g.decode(a.subarray(e,e+d));else{d=e+d;for(var f=[],k=null,h,l,p;e<d;)h=a[e++],128>h?f.push(h):224>h?e>=d?f.push(65533):(l=a[e++],194>h||128!==(l&192)?(e--,f.push(65533)):f.push((h&31)<<6|l&63)):240>h?e>=d-1?f.push(65533):(l=a[e++],128!==(l&192)||224===h&&160>l||237===h&&160<=l||128!==((g=a[e++])&192)?(e--,f.push(65533)):f.push((h&15)<<12|(l&63)<<6|
g&63)):244>=h?e>=d-2?f.push(65533):(l=a[e++],128!==(l&192)||0!==(h<<28)+(l-144)>>30||128!==((g=a[e++])&192)||128!==((p=a[e++])&192)?(e--,f.push(65533)):(h=(h&7)<<18|(l&63)<<12|(g&63)<<6|p&63,h-=65536,f.push((h>>10&1023)+55296,(h&1023)+56320))):f.push(65533),8192<=f.length&&(k=za(k,f),f.length=0);g=za(k,f)}T(b,c,g);return!0}function Nb(a,b,c,d,e){if(2!==a.h)return!1;a=$a(a,new d,e);var g;b.g||(b.g={});d=a?a.u:a;b.g[c]=a;T(b,c,d,void 0===g?!1:g);return!0}
function Ob(a,b,c,d,e){if(2!==a.h)return!1;a=$a(a,new d,e);tb(b,c,a,d,void 0);return!0}function Pb(a,b,c){if(0!==a.h)return!1;T(b,c,Ta(a.g));return!0};function Qb(a){R.call(this,a)}C(Qb,R);function Rb(){return{1:Jb,2:X,3:Mb,4:Mb}}function Sb(a,b){var c=S(a,1);if(null!=c&&null!=c){Q(b.g,8);var d=b.g;if(0<=c)Q(d,c);else{for(var e=0;9>e;e++)P(d,c&127|128),c>>=7;P(d,1)}}W(b,a,2);d=S(a,3);null!=d&&db(b,3,Ea(d));d=S(a,4);null!=d&&db(b,4,Ea(d));wb(a,b)};function Tb(a){R.call(this,a,-1,Ub)}C(Tb,R);Tb.prototype.addClassification=function(a,b){tb(this,1,a,Qb,b);return this};function Vb(){return{1:[Ob,Qb,Rb]}}var Ub=[1];function Wb(a){R.call(this,a)}C(Wb,R);function Xb(){return{1:X,2:X,3:X,4:X,5:X}}function Yb(a,b){W(b,a,1);W(b,a,2);W(b,a,3);W(b,a,4);W(b,a,5);wb(a,b)};function Zb(a){R.call(this,a,-1,$b)}C(Zb,R);function ac(){return{1:[Ob,Wb,Xb]}}var $b=[1];function bc(a){R.call(this,a)}C(bc,R);function cc(){return{1:X,2:X,3:X,4:X,5:X,6:Ib}}function dc(a,b){W(b,a,1);W(b,a,2);W(b,a,3);W(b,a,4);W(b,a,5);var c=S(a,6);if(null!=c&&null!=c){Q(b.g,48);var d=b.g,e=c;c=0>e;e=Math.abs(e);var g=e>>>0;e=Math.floor((e-g)/4294967296);e>>>=0;c&&(e=~e>>>0,g=(~g>>>0)+1,4294967295<g&&(g=0,e++,4294967295<e&&(e=0)));K=g;M=e;c=K;for(g=M;0<g||127<c;)P(d,c&127|128),c=(c>>>7|g<<25)>>>0,g>>>=7;P(d,c)}wb(a,b)};function ec(a){R.call(this,a,-1,fc)}C(ec,R);function gc(){return{1:Pb,2:Pb,3:Y,4:[Nb,hc,ic],5:Jb,6:Jb,7:Y,8:Y,9:Y}}function hc(a){R.call(this,a)}C(hc,R);function ic(){return{1:X,2:X,3:X}}var fc=[3,7,8,9];function jc(a){R.call(this,a)}C(jc,R);function kc(){return{1:Z,2:Z,3:Z}};function lc(a){R.call(this,a)}C(lc,R);function mc(){return{1:Z,2:Z,3:Z}};function nc(a){R.call(this,a)}C(nc,R);function oc(){return{1:Kb,2:[Nb,lc,mc],3:[Nb,jc,kc],4:Lb}};function pc(a){R.call(this,a,-1,qc)}C(pc,R);function rc(){return{1:Kb,2:[Ob,nc,oc],3:Z,4:Y,5:Y,6:Y}}var qc=[2,4,5,6];function sc(a){R.call(this,a,-1,tc)}C(sc,R);function uc(){return{1:Kb,2:[Ob,pc,rc],3:[Nb,ec,gc],4:Hb,5:Y,6:Y}}var tc=[2,5,6];function vc(a,b,c){c=a.createShader(0===c?a.VERTEX_SHADER:a.FRAGMENT_SHADER);a.shaderSource(c,b);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+a.getShaderInfoLog(c));return c};function wc(a){return sb(a,Qb,1).map(function(b){return{index:ub(b,1),$:V(b,2),label:null!=S(b,3)?vb(b,3):void 0,displayName:null!=S(b,4)?vb(b,4):void 0}})};function xc(a){return{x:V(a,1),y:V(a,2),z:V(a,3),visibility:null!=S(a,4)?V(a,4):void 0}};function yc(a,b){this.h=a;this.g=b;this.l=0}
function zc(a,b,c){Ac(a,b);if("function"===typeof a.g.canvas.transferToImageBitmap)return Promise.resolve(a.g.canvas.transferToImageBitmap());if(c)return Promise.resolve(a.g.canvas);if("function"===typeof createImageBitmap)return createImageBitmap(a.g.canvas);void 0===a.i&&(a.i=document.createElement("canvas"));return new Promise(function(d){a.i.height=a.g.canvas.height;a.i.width=a.g.canvas.width;a.i.getContext("2d",{}).drawImage(a.g.canvas,0,0,a.g.canvas.width,a.g.canvas.height);d(a.i)})}
function Ac(a,b){var c=a.g;if(void 0===a.m){var d=vc(c,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),e=vc(c,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),g=c.createProgram();c.attachShader(g,d);c.attachShader(g,e);c.linkProgram(g);if(!c.getProgramParameter(g,c.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+
c.getProgramInfoLog(g));d=a.m=g;c.useProgram(d);e=c.getUniformLocation(d,"sampler0");a.j={J:c.getAttribLocation(d,"aVertex"),I:c.getAttribLocation(d,"aTex"),ja:e};a.s=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a.s);c.enableVertexAttribArray(a.j.J);c.vertexAttribPointer(a.j.J,2,c.FLOAT,!1,0,0);c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,null);a.o=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a.o);c.enableVertexAttribArray(a.j.I);c.vertexAttribPointer(a.j.I,
2,c.FLOAT,!1,0,0);c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,null);c.uniform1i(e,0)}d=a.j;c.useProgram(a.m);c.canvas.width=b.width;c.canvas.height=b.height;c.viewport(0,0,b.width,b.height);c.activeTexture(c.TEXTURE0);a.h.bindTexture2d(b.glName);c.enableVertexAttribArray(d.J);c.bindBuffer(c.ARRAY_BUFFER,a.s);c.vertexAttribPointer(d.J,2,c.FLOAT,!1,0,0);c.enableVertexAttribArray(d.I);c.bindBuffer(c.ARRAY_BUFFER,a.o);c.vertexAttribPointer(d.I,
2,c.FLOAT,!1,0,0);c.bindFramebuffer(c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER,null);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);c.colorMask(!0,!0,!0,!0);c.drawArrays(c.TRIANGLE_FAN,0,4);c.disableVertexAttribArray(d.J);c.disableVertexAttribArray(d.I);c.bindBuffer(c.ARRAY_BUFFER,null);a.h.bindTexture2d(0)}function Bc(a){this.g=a};var Cc=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Dc(a,b){return b+a}function Ec(a,b){window[a]=b}function Fc(a){var b=document.createElement("script");b.setAttribute("src",a);b.setAttribute("crossorigin","anonymous");return new Promise(function(c){b.addEventListener("load",function(){c()},!1);b.addEventListener("error",function(){c()},!1);document.body.appendChild(b)})}
function Gc(){return H(function(a){switch(a.g){case 1:return a.m=2,E(a,WebAssembly.instantiate(Cc),4);case 4:a.g=3;a.m=0;break;case 2:return a.m=0,a.j=null,a.return(!1);case 3:return a.return(!0)}})}
function Hc(a){this.g=a;this.listeners={};this.j={};this.G={};this.m={};this.s={};this.H=this.o=this.S=!0;this.D=Promise.resolve();this.R="";this.C={};this.locateFile=a&&a.locateFile||Dc;if("object"===typeof window)var b=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if("undefined"!==typeof location)b=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");
this.T=b;if(a.options){b=A(Object.keys(a.options));for(var c=b.next();!c.done;c=b.next()){c=c.value;var d=a.options[c].default;void 0!==d&&(this.j[c]="function"===typeof d?d():d)}}}v=Hc.prototype;v.close=function(){this.i&&this.i.delete();return Promise.resolve()};
function Ic(a){var b,c,d,e,g,f,k,h,l,p,t;return H(function(q){switch(q.g){case 1:if(!a.S)return q.return();b=void 0===a.g.files?[]:"function"===typeof a.g.files?a.g.files(a.j):a.g.files;return E(q,Gc(),2);case 2:c=q.h;if("object"===typeof window)return Ec("createMediapipeSolutionsWasm",{locateFile:a.locateFile}),Ec("createMediapipeSolutionsPackedAssets",{locateFile:a.locateFile}),f=b.filter(function(m){return void 0!==m.data}),k=b.filter(function(m){return void 0===m.data}),h=Promise.all(f.map(function(m){var n=
Jc(a,m.url);if(void 0!==m.path){var r=m.path;n=n.then(function(x){a.overrideFile(r,x);return Promise.resolve(x)})}return n})),l=Promise.all(k.map(function(m){return void 0===m.simd||m.simd&&c||!m.simd&&!c?Fc(a.locateFile(m.url,a.T)):Promise.resolve()})).then(function(){var m,n,r;return H(function(x){if(1==x.g)return m=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=a,E(x,m(n),2);r.h=x.h;x.g=0})}),p=function(){return H(function(m){a.g.graph&&a.g.graph.url?m=E(m,
Jc(a,a.g.graph.url),0):(m.g=0,m=void 0);return m})}(),E(q,Promise.all([l,h,p]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");d=b.filter(function(m){return void 0===m.simd||m.simd&&c||!m.simd&&!c}).map(function(m){return a.locateFile(m.url,a.T)});importScripts.apply(null,ea(d));e=a;return E(q,createMediapipeSolutionsWasm(Module),6);case 6:e.h=q.h;a.l=new OffscreenCanvas(1,1);a.h.canvas=a.l;g=a.h.GL.createContext(a.l,{antialias:!1,
alpha:!1,ga:"undefined"!==typeof WebGL2RenderingContext?2:1});a.h.GL.makeContextCurrent(g);q.g=4;break;case 7:a.l=document.createElement("canvas");t=a.l.getContext("webgl2",{});if(!t&&(t=a.l.getContext("webgl",{}),!t))return alert("Failed to create WebGL canvas context when passing video frame."),q.return();a.F=t;a.h.canvas=a.l;a.h.createContext(a.l,!0,!0,{});case 4:a.i=new a.h.SolutionWasm,a.S=!1,q.g=0}})}
function Kc(a){var b,c,d,e,g,f,k,h;return H(function(l){if(1==l.g){if(a.g.graph&&a.g.graph.url&&a.R===a.g.graph.url)return l.return();a.o=!0;if(!a.g.graph||!a.g.graph.url){l.g=2;return}a.R=a.g.graph.url;return E(l,Jc(a,a.g.graph.url),3)}2!=l.g&&(b=l.h,a.i.loadGraph(b));c=A(Object.keys(a.C));for(d=c.next();!d.done;d=c.next())e=d.value,a.i.overrideFile(e,a.C[e]);a.C={};if(a.g.listeners)for(g=A(a.g.listeners),f=g.next();!f.done;f=g.next())k=f.value,Lc(a,k);h=a.j;a.j={};a.setOptions(h);l.g=0})}
v.reset=function(){var a=this;return H(function(b){a.i&&(a.i.reset(),a.m={},a.s={});b.g=0})};
v.setOptions=function(a,b){var c=this;if(b=b||this.g.options){for(var d=[],e=[],g={},f=A(Object.keys(a)),k=f.next();!k.done;g={L:g.L,M:g.M},k=f.next()){var h=k.value;h in this.j&&this.j[h]===a[h]||(this.j[h]=a[h],k=b[h],void 0!==k&&(k.onChange&&(g.L=k.onChange,g.M=a[h],d.push(function(l){return function(){var p;return H(function(t){if(1==t.g)return E(t,l.L(l.M),2);p=t.h;!0===p&&(c.o=!0);t.g=0})}}(g))),k.graphOptionXref&&(h={valueNumber:1===k.type?a[h]:0,valueBoolean:0===k.type?a[h]:!1,valueString:2===
k.type?a[h]:""},k=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),k.graphOptionXref),h),e.push(k))))}if(0!==d.length||0!==e.length)this.o=!0,this.B=(void 0===this.B?[]:this.B).concat(e),this.A=(void 0===this.A?[]:this.A).concat(d)}};
function Mc(a){var b,c,d,e,g,f,k;return H(function(h){switch(h.g){case 1:if(!a.o)return h.return();if(!a.A){h.g=2;break}b=A(a.A);c=b.next();case 3:if(c.done){h.g=5;break}d=c.value;return E(h,d(),4);case 4:c=b.next();h.g=3;break;case 5:a.A=void 0;case 2:if(a.B){e=new a.h.GraphOptionChangeRequestList;g=A(a.B);for(f=g.next();!f.done;f=g.next())k=f.value,e.push_back(k);a.i.changeOptions(e);e.delete();a.B=void 0}a.o=!1;h.g=0}})}
v.initialize=function(){var a=this;return H(function(b){return 1==b.g?E(b,Ic(a),2):3!=b.g?E(b,Kc(a),3):E(b,Mc(a),0)})};function Jc(a,b){var c,d;return H(function(e){if(b in a.G)return e.return(a.G[b]);c=a.locateFile(b,"");d=fetch(c).then(function(g){return g.arrayBuffer()});a.G[b]=d;return e.return(d)})}v.overrideFile=function(a,b){this.i?this.i.overrideFile(a,b):this.C[a]=b};v.clearOverriddenFiles=function(){this.C={};this.i&&this.i.clearOverriddenFiles()};
v.send=function(a,b){var c=this,d,e,g,f,k,h,l,p,t;return H(function(q){switch(q.g){case 1:if(!c.g.inputs)return q.return();d=1E3*(void 0===b||null===b?performance.now():b);return E(q,c.D,2);case 2:return E(q,c.initialize(),3);case 3:e=new c.h.PacketDataList;g=A(Object.keys(a));for(f=g.next();!f.done;f=g.next())if(k=f.value,h=c.g.inputs[k]){a:{var m=a[k];switch(h.type){case "video":var n=c.m[h.stream];n||(n=new yc(c.h,c.F),c.m[h.stream]=n);0===n.l&&(n.l=n.h.createTexture());if("undefined"!==typeof HTMLVideoElement&&
m instanceof HTMLVideoElement){var r=m.videoWidth;var x=m.videoHeight}else"undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement?(r=m.naturalWidth,x=m.naturalHeight):(r=m.width,x=m.height);x={glName:n.l,width:r,height:x};r=n.g;r.canvas.width=x.width;r.canvas.height=x.height;r.activeTexture(r.TEXTURE0);n.h.bindTexture2d(n.l);r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,m);n.h.bindTexture2d(0);n=x;break a;case "detections":n=c.m[h.stream];n||(n=new Bc(c.h),c.m[h.stream]=n);
n.data||(n.data=new n.g.DetectionListData);n.data.reset(m.length);for(x=0;x<m.length;++x){r=m[x];var w=n.data,D=w.setBoundingBox,L=x;var G=r.U;var u=new bc;T(u,1,G.aa);T(u,2,G.ba);T(u,3,G.height);T(u,4,G.width);T(u,5,G.rotation);T(u,6,G.Z);G=Fb(u,dc);D.call(w,L,G);if(r.P)for(w=0;w<r.P.length;++w){u=r.P[w];var B=u.visibility?!0:!1;D=n.data;L=D.addNormalizedLandmark;G=x;u=Object.assign(Object.assign({},u),{visibility:B?u.visibility:0});B=new Wb;T(B,1,u.x);T(B,2,u.y);T(B,3,u.z);u.visibility&&T(B,4,u.visibility);
u=Fb(B,Yb);L.call(D,G,u)}if(r.N)for(w=0;w<r.N.length;++w)D=n.data,L=D.addClassification,G=x,u=r.N[w],B=new Qb,T(B,2,u.$),u.index&&T(B,1,u.index),u.label&&T(B,3,u.label),u.displayName&&T(B,4,u.displayName),u=Fb(B,Sb),L.call(D,G,u)}n=n.data;break a;default:n={}}}l=n;p=h.stream;switch(h.type){case "video":e.pushTexture2d(Object.assign(Object.assign({},l),{stream:p,timestamp:d}));break;case "detections":t=l;t.stream=p;t.timestamp=d;e.pushDetectionList(t);break;default:throw Error("Unknown input config type: '"+
h.type+"'");}}c.i.send(e);return E(q,c.D,4);case 4:e.delete(),q.g=0}})};
function Nc(a,b,c){var d,e,g,f,k,h,l,p,t,q,m,n,r,x;return H(function(w){switch(w.g){case 1:if(!c)return w.return(b);d={};e=0;g=A(Object.keys(c));for(f=g.next();!f.done;f=g.next())k=f.value,h=c[k],"string"!==typeof h&&"texture"===h.type&&void 0!==b[h.stream]&&++e;1<e&&(a.H=!1);l=A(Object.keys(c));f=l.next();case 2:if(f.done){w.g=4;break}p=f.value;t=c[p];if("string"===typeof t)return r=d,x=p,E(w,Oc(a,p,b[t]),14);q=b[t.stream];if("detection_list"===t.type){if(q){var D=q.getRectList();for(var L=q.getLandmarksList(),
G=q.getClassificationsList(),u=[],B=0;B<D.size();++B){var U=Gb(D.get(B),bc,cc);U={U:{aa:V(U,1),ba:V(U,2),height:V(U,3),width:V(U,4),rotation:V(U,5,0),Z:ub(U,6)},P:sb(Gb(L.get(B),Zb,ac),Wb,1).map(xc),N:wc(Gb(G.get(B),Tb,Vb))};u.push(U)}D=u}else D=[];d[p]=D;w.g=7;break}if("proto_list"===t.type){if(q){D=Array(q.size());for(L=0;L<q.size();L++)D[L]=q.get(L);q.delete()}else D=[];d[p]=D;w.g=7;break}if(void 0===q){w.g=3;break}if("float_list"===t.type){d[p]=q;w.g=7;break}if("proto"===t.type){d[p]=q;w.g=7;
break}if("texture"!==t.type)throw Error("Unknown output config type: '"+t.type+"'");m=a.s[p];m||(m=new yc(a.h,a.F),a.s[p]=m);return E(w,zc(m,q,a.H),13);case 13:n=w.h,d[p]=n;case 7:t.transform&&d[p]&&(d[p]=t.transform(d[p]));w.g=3;break;case 14:r[x]=w.h;case 3:f=l.next();w.g=2;break;case 4:return w.return(d)}})}
function Oc(a,b,c){var d;return H(function(e){return"number"===typeof c||c instanceof Uint8Array||c instanceof a.h.Uint8BlobList?e.return(c):c instanceof a.h.Texture2dDataOut?(d=a.s[b],d||(d=new yc(a.h,a.F),a.s[b]=d),e.return(zc(d,c,a.H))):e.return(void 0)})}
function Lc(a,b){for(var c=b.name||"$",d=[].concat(ea(b.wants)),e=new a.h.StringList,g=A(b.wants),f=g.next();!f.done;f=g.next())e.push_back(f.value);g=a.h.PacketListener.implement({onResults:function(k){for(var h={},l=0;l<b.wants.length;++l)h[d[l]]=k.get(l);var p=a.listeners[c];p&&(a.D=Nc(a,h,b.outs).then(function(t){t=p(t);for(var q=0;q<b.wants.length;++q){var m=h[d[q]];"object"===typeof m&&m.hasOwnProperty&&m.hasOwnProperty("delete")&&m.delete()}t&&(a.D=t)}))}});a.i.attachMultiListener(e,g);e.delete()}
v.onResults=function(a,b){this.listeners[b||"$"]=a};I("Solution",Hc);I("OptionType",{BOOL:0,NUMBER:1,ca:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Pc(a){var b=ub(a,1);var c=rb(a,jc,3);c={x:V(c,1),y:V(c,2),depth:V(c,3)};a=rb(a,lc,2);return{id:b,point2d:c,point3d:{x:V(a,1),y:V(a,2),z:V(a,3)}}}function Qc(a){var b=Gb(a,sc,uc);a=[];b=sb(b,pc,2);for(var c=0;c<b.length;c++)a.push({id:ub(b[c],1),keypoints:sb(b[c],nc,2).map(Pc),visibility:V(b[c],3),scale:pb(b[c],6),translation:pb(b[c],5),rotation:pb(b[c],4)});return a};function Rc(a){switch(a){case "Camera":return"object_detection_3d_camera.tflite";case "Chair":return"object_detection_3d_chair.tflite";case "Cup":return"object_detection_3d_cup.tflite";default:return"object_detection_3d_sneakers.tflite"}}function Sc(a){switch(a){case "Camera":return"Camera";case "Chair":return"Chair";case "Cup":return"Coffee cup, Mug";default:return"Footwear"}}
var Tc={focalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_x"}},focalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_focal_y"}},principalX:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_x"}},principalY:{type:1,graphOptionXref:{calculatorType:"Lift2DFrameAnnotationTo3DCalculator",fieldName:"normalized_principal_point_y"}},
allowedLabels:{type:2,graphOptionXref:{calculatorName:"ConstantSidePacketCalculatorAllowedLabels",calculatorType:"ConstantSidePacketCalculator",fieldName:"string_value"}}};
function Uc(a){var b=this;a=a||{};this.g=new Hc({locateFile:a.locateFile,files:[{url:"objectron_solution_packed_assets_loader.js"},{simd:!1,url:"objectron_solution_wasm_bin.js"},{simd:!0,url:"objectron_solution_simd_wasm_bin.js"}],graph:{url:"objectron.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["lifted_objects","image_transformed"],outs:{image:"image_transformed",objectDetections:{type:"proto",stream:"lifted_objects",transform:Qc}}}],options:{useCpuInference:{type:0,
graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"!==typeof window||void 0===window.navigator?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,default:!1,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumObjects:{type:1,default:5,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",
calculatorName:"ConstantSidePacketCalculatorMaxNumObjects",fieldName:"int_value"}},staticImageMode:{type:0,default:!0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"objectrongpusubgraph__ConstantSidePacketCalculator",fieldName:"bool_value"}},minDetectionConfidence:{type:1,default:.5,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"objectrongpusubgraph__objectdetectionoidv4subgraph__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},
minTrackingConfidence:{type:1,default:.99,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"objectrongpusubgraph__boxlandmarksubgraph__ThresholdingCalculator",fieldName:"threshold"}},modelName:{default:"Shoe",onChange:function(c){var d,e,g,f;return H(function(k){if(1==k.g)return d=c,b.g.setOptions({allowedLabels:Sc(d)},Tc),e=Rc(d),g="object_detection_3d.tflite",E(k,Jc(b.g,e),2);f=k.h;b.g.overrideFile(g,f);return k.return(!0)})}},focalLength:{default:[1,1],onChange:function(c){var d;
return H(function(e){d=c;b.h=d;b.g.setOptions({focalX:d[0],focalY:d[1]},Tc);return e.return(!0)})}},principalPoint:{default:[0,0],onChange:function(c){var d;return H(function(e){d=c;b.i=d;b.g.setOptions({principalX:d[0],principalY:d[1]},Tc);return e.return(!0)})}},imageSize:{onChange:function(c){var d,e,g,f;return H(function(k){if(void 0===b.h||void 0===b.i)return console.error('"focalLength" and "principalPoint" must be set if setting image size'),k.return();d=c;e=[d[0]/2,d[1]/2];g=[b.h[0]/e[0],
b.h[1]/e[1]];f=[b.i[0]/e[0],b.i[1]/e[1]];b.setOptions({focalLength:g,principalPoint:f});k.g=0})}}}})}v=Uc.prototype;v.close=function(){this.g.close();return Promise.resolve()};v.onResults=function(a){this.g.onResults(a)};v.initialize=function(){var a=this;return H(function(b){return E(b,a.g.initialize(),0)})};v.reset=function(){this.g.reset()};v.send=function(a){var b=this;return H(function(c){return E(c,b.g.send(a),0)})};v.setOptions=function(a){this.g.setOptions(a)};I("Objectron",Uc);
I("BOX_CONNECTIONS",[[1,2],[2,4],[4,3],[3,1],[5,6],[6,8],[8,7],[7,5],[1,5],[2,6],[3,7],[4,8]]);I("BOX_KEYPOINTS",{CENTER:0,BACK_BOTTOM_LEFT:1,FRONT_BOTTOM_LEFT:2,BACK_TOP_LEFT:3,FRONT_TOP_LEFT:4,BACK_BOTTOM_RIGHT:5,FRONT_BOTTOM_RIGHT:6,BACK_TOP_RIGHT:7,FRONT_TOP_RIGHT:8});I("VERSION","0.4.1636596145");}).call(this);
